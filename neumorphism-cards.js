var t,n,e,i,o,a,r,s,c,l,u,d,h;function v(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function p(t,n,e,i){var o=f(L(1&i?t.prototype:t),n,e);return 2&i&&"function"==typeof o?function(t){return o.apply(e,t)}:o}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,n,e){var i=function(t,n){for(;!{}.hasOwnProperty.call(t,n)&&null!==(t=L(t)););return t}(t,n);if(i){var o=Object.getOwnPropertyDescriptor(i,n);return o.get?o.get.call(arguments.length<3?t:e):o.value}},f.apply(null,arguments)}function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function _(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||k(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var i,o,a,r,s=[],c=!0,l=!1;try{if(a=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;c=!1}else for(;!(c=(i=a.call(e)).done)&&(s.push(i.value),s.length!==n);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=e.return&&(r=e.return(),Object(r)!==r))return}finally{if(l)throw o}}return s}}(t,n)||k(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(){var t,n,e="function"==typeof Symbol?Symbol:{},i=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,i,o,a){var c=i&&i.prototype instanceof s?i:s,l=Object.create(c.prototype);return g(l,"_invoke",function(e,i,o){var a,s,c,l=0,u=o||[],d=!1,h={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return a=n,s=0,c=t,h.n=e,r}};function v(e,i){for(s=e,c=i,n=0;!d&&l&&!o&&n<u.length;n++){var o,a=u[n],v=h.p,p=a[2];e>3?(o=p===i)&&(c=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=t):a[0]<=v&&((o=e<2&&v<a[1])?(s=0,h.v=i,h.n=a[1]):v<p&&(o=e<3||a[0]>i||i>p)&&(a[4]=e,a[5]=i,h.n=p,s=0))}if(o||e>1)return r;throw d=!0,i}return function(o,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&v(u,p),s=u,c=p;(n=s<2?t:c)||!d;){a||(s?s<3?(s>1&&(h.n=-1),v(s,c)):h.n=c:h.v=c);try{if(l=2,a){if(s||(o="next"),n=a[o]){if(!(n=n.call(a,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,s<2&&(s=0)}else 1===s&&(n=a.return)&&n.call(a),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);a=t}else if((n=(d=h.n<0)?c:e.call(i,h))!==r)break}catch(n){a=t,s=1,c=n}finally{l=1}}return{value:n,done:d}}}(e,o,a),!0),l}var r={};function s(){}function c(){}function l(){}n=Object.getPrototypeOf;var u=[][i]?n(n([][i]())):(g(n={},i,function(){return this}),n),d=l.prototype=s.prototype=Object.create(u);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,g(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return c.prototype=l,g(d,"constructor",l),g(l,"constructor",c),c.displayName="GeneratorFunction",g(l,o,"GeneratorFunction"),g(d),g(d,o,"Generator"),g(d,i,function(){return this}),g(d,"toString",function(){return"[object Generator]"}),(b=function(){return{w:a,m:h}})()}function g(t,n,e,i){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}g=function(t,n,e,i){function a(n,e){g(t,n,function(t){return this._invoke(n,e,t)})}n?o?o(t,n,{value:e,enumerable:!i,configurable:!i,writable:!i}):t[n]=e:(a("next",0),a("throw",1),a("return",2))},g(t,n,e,i)}function x(t,n,e,i,o,a,r){try{var s=t[a](r),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(i,o)}function w(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=k(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return r=t.done,t},e:function(t){s=!0,a=t},f:function(){try{r||null==e.return||e.return()}finally{if(s)throw a}}}}function k(t,n){if(t){if("string"==typeof t)return E(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?E(t,n):void 0}}function E(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=Array(n);e<n;e++)i[e]=t[e];return i}function $(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function A(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,C(i.key),i)}}function S(t,n,e){return n&&A(t.prototype,n),e&&A(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C(t){var n=function(t,n){if("object"!=m(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,n||"default");if("object"!=m(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==m(n)?n:n+""}function P(t,n,e){return n=L(n),function(t,n){if(n&&("object"==m(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return T(t)}(t,R()?Reflect.construct(n,e||[],L(t).constructor):n.apply(t,e))}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&j(t,n)}function O(t){var n="function"==typeof Map?new Map:void 0;return O=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(n){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return function(t,n,e){if(R())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,n);var o=new(t.bind.apply(t,i));return e&&j(o,e.prototype),o}(t,arguments,L(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),j(e,t)},O(t)}function R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(R=function(){return!!t})()}function j(t,n){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},j(t,n)}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}var H=function(){function t(){return $(this,t),P(this,t,arguments)}return M(t,O(HTMLElement)),S(t,[{key:"setConfig",value:function(t){this._config=t}},{key:"hass",set:function(t){this._hass=t,this.render()}},{key:"render",value:function(){}}])}(),z={isEntityActive:function(t){return!!t&&["on","open","unlocked","active","home","playing"].includes(t.state.toLowerCase())},getEntityIcon:function(t,n,e){if(e)return e;if(!n)return"mdi:alert";var i=this.isEntityActive(n);switch(t.split(".")[0]){case"light":return i?"mdi:lightbulb":"mdi:lightbulb-outline";case"switch":return i?"mdi:toggle-switch":"mdi:toggle-switch-off-outline";case"cover":return i?"mdi:window-shutter-open":"mdi:window-shutter";case"climate":return"mdi:thermostat";case"fan":return i?"mdi:fan":"mdi:fan-off";case"media_player":return i?"mdi:cast-connected":"mdi:cast";default:return i?"mdi:flash":"mdi:flash-outline"}},processTemplate:function(t,n,e){if(!t||!e||!e.states[n])return t;var i=e.states[n];return t.replace(/\\{\\{\\s*([^\\}]+)\\s*\\}\\}/g,function(t,n){if("state"===(n=n.trim()))return i.state;if(n.startsWith("attr.")){var e=n.substring(5);return void 0!==i.attributes[e]?i.attributes[e]:"unknown:".concat(e)}if("state_with_unit"===n){var o=i.state,a=i.attributes.unit_of_measurement;return a?"".concat(o," ").concat(a):o}return"last_updated"===n?new Date(i.last_changed).toLocaleTimeString():t})}},I=function(t,n){if(t&&n){var e=t.states[n];if(e){var i=n.split(".")[0];if("lock"===i){var o="locked"===e.state?"unlock":"lock";t.callService(i,o,{entity_id:n})}else if("cover"===i){var a="open"===e.state?"close_cover":"open_cover";t.callService(i,a,{entity_id:n})}else t.callService(i,"toggle",{entity_id:n})}}},U=function(t,n,e){t&&n&&t.callService("light","turn_on",{entity_id:n,brightness:Math.round(2.55*e)})},D=function(t,n,e){if(t&&n){var i=100-e,o=Math.round(2e3+i/100*4500);t.callService("light","turn_on",{entity_id:n,kelvin:o})}},N=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=new CustomEvent(n,{bubbles:void 0===i.bubbles||i.bubbles,cancelable:Boolean(i.cancelable),composed:void 0===i.composed||i.composed,detail:e});t.dispatchEvent(o)},B=function(t,n){var e=new CustomEvent("hass-more-info",{bubbles:!0,composed:!0,detail:{entityId:n}});t.dispatchEvent(e)},F=function(t,n){var e=n.split(".")[0];t._hass.callService(e,"toggle",{entity_id:n})},V=globalThis,q=V.ShadowRoot&&(void 0===V.ShadyCSS||V.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,X=Symbol(),Y=new WeakMap,W=function(){return S(function t(n,e,i){if($(this,t),this._$cssResult$=!0,i!==X)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=n,this.t=e},[{key:"styleSheet",get:function(){var t=this.o,n=this.t;if(q&&void 0===t){var e=void 0!==n&&1===n.length;e&&(t=Y.get(n)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&Y.set(n,t))}return t}},{key:"toString",value:function(){return this.cssText}}])}(),G=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];var o=1===t.length?t[0]:e.reduce(function(n,e,i){return n+function(t){if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(e)+t[i+1]},t[0]);return new W(o,t,X)},K=q?function(t){return t}:function(t){return t instanceof CSSStyleSheet?function(t){var n,e="",i=w(t.cssRules);try{for(i.s();!(n=i.n()).done;){e+=n.value.cssText}}catch(t){i.e(t)}finally{i.f()}return function(t){return new W("string"==typeof t?t:t+"",void 0,X)}(e)}(t):t},Z=Object.is,J=Object.defineProperty,Q=Object.getOwnPropertyDescriptor,tt=Object.getOwnPropertyNames,nt=Object.getOwnPropertySymbols,et=Object.getPrototypeOf,it=globalThis,ot=it.trustedTypes,at=ot?ot.emptyScript:"",rt=it.reactiveElementPolyfillSupport,st=function(t,n){return t},ct={toAttribute:function(t,n){switch(n){case Boolean:t=t?at:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute:function(t,n){var e=t;switch(n){case Boolean:e=null!==t;break;case Number:e=null===t?null:Number(t);break;case Object:case Array:try{e=JSON.parse(t)}catch(t){e=null}}return e}},lt=function(t,n){return!Z(t,n)},ut={attribute:!0,type:String,converter:ct,reflect:!1,useDefault:!1,hasChanged:lt};null!==(t=Symbol.metadata)&&void 0!==t||(Symbol.metadata=Symbol("metadata")),null!==(n=it.litPropertyMetadata)&&void 0!==n||(it.litPropertyMetadata=new WeakMap);var dt=function(){function t(){var n;return $(this,t),(n=P(this,t))._$Ep=void 0,n.isUpdatePending=!1,n.hasUpdated=!1,n._$Em=null,n._$Ev(),n}return M(t,O(HTMLElement)),S(t,[{key:"_$Ev",value:function(){var t,n=this;this._$ES=new Promise(function(t){return n.enableUpdating=t}),this._$AL=new Map,this._$E_(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach(function(t){return t(n)})}},{key:"addController",value:function(t){var n,e;(null!==(n=this._$EO)&&void 0!==n?n:this._$EO=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&(null===(e=t.hostConnected)||void 0===e||e.call(t))}},{key:"removeController",value:function(t){var n;null===(n=this._$EO)||void 0===n||n.delete(t)}},{key:"_$E_",value:function(){var t,n=new Map,e=w(this.constructor.elementProperties.keys());try{for(e.s();!(t=e.n()).done;){var i=t.value;this.hasOwnProperty(i)&&(n.set(i,this[i]),delete this[i])}}catch(t){e.e(t)}finally{e.f()}n.size>0&&(this._$Ep=n)}},{key:"createRenderRoot",value:function(){var t,n=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return function(t,n){if(q)t.adoptedStyleSheets=n.map(function(t){return t instanceof CSSStyleSheet?t:t.styleSheet});else{var e,i=w(n);try{for(i.s();!(e=i.n()).done;){var o=e.value,a=document.createElement("style"),r=V.litNonce;void 0!==r&&a.setAttribute("nonce",r),a.textContent=o.cssText,t.appendChild(a)}}catch(t){i.e(t)}finally{i.f()}}}(n,this.constructor.elementStyles),n}},{key:"connectedCallback",value:function(){var t,n;null!==(t=this.renderRoot)&&void 0!==t||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(n=this._$EO)||void 0===n||n.forEach(function(t){var n;return null===(n=t.hostConnected)||void 0===n?void 0:n.call(t)})}},{key:"enableUpdating",value:function(t){}},{key:"disconnectedCallback",value:function(){var t;null===(t=this._$EO)||void 0===t||t.forEach(function(t){var n;return null===(n=t.hostDisconnected)||void 0===n?void 0:n.call(t)})}},{key:"attributeChangedCallback",value:function(t,n,e){this._$AK(t,e)}},{key:"_$ET",value:function(t,n){var e=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,e);if(void 0!==i&&!0===e.reflect){var o,a=(void 0!==(null===(o=e.converter)||void 0===o?void 0:o.toAttribute)?e.converter:ct).toAttribute(n,e.type);this._$Em=t,null==a?this.removeAttribute(i):this.setAttribute(i,a),this._$Em=null}}},{key:"_$AK",value:function(t,n){var e=this.constructor,i=e._$Eh.get(t);if(void 0!==i&&this._$Em!==i){var o,a,r,s=e.getPropertyOptions(i),c="function"==typeof s.converter?{fromAttribute:s.converter}:void 0!==(null===(o=s.converter)||void 0===o?void 0:o.fromAttribute)?s.converter:ct;this._$Em=i;var l=c.fromAttribute(n,s.type);this[i]=null!==(a=null!=l?l:null===(r=this._$Ej)||void 0===r?void 0:r.get(i))&&void 0!==a?a:l,this._$Em=null}}},{key:"requestUpdate",value:function(t,n,e){if(void 0!==t){var i,o,a=this.constructor,r=this[t];if(null!=e||(e=a.getPropertyOptions(t)),!((null!==(i=e.hasChanged)&&void 0!==i?i:lt)(r,n)||e.useDefault&&e.reflect&&r===(null===(o=this._$Ej)||void 0===o?void 0:o.get(t))&&!this.hasAttribute(a._$Eu(t,e))))return;this.C(t,n,e)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}},{key:"C",value:function(t,n,e,i){var o,a,r,s=e.useDefault,c=e.reflect,l=e.wrapped;s&&!(null!==(o=this._$Ej)&&void 0!==o?o:this._$Ej=new Map).has(t)&&(this._$Ej.set(t,null!==(a=null!=i?i:n)&&void 0!==a?a:this[t]),!0!==l||void 0!==i)||(this._$AL.has(t)||(this.hasUpdated||s||(n=void 0),this._$AL.set(t,n)),!0===c&&this._$Em!==t&&(null!==(r=this._$Eq)&&void 0!==r?r:this._$Eq=new Set).add(t))}},{key:"_$EP",value:(n=function(t){return function(){var n=this,e=arguments;return new Promise(function(i,o){var a=t.apply(n,e);function r(t){x(a,i,o,r,s,"next",t)}function s(t){x(a,i,o,r,s,"throw",t)}r(void 0)})}}(b().m(function t(){var n,e;return b().w(function(t){for(;;)switch(t.p=t.n){case 0:return this.isUpdatePending=!0,t.p=1,t.n=2,this._$ES;case 2:t.n=4;break;case 3:t.p=3,e=t.v,Promise.reject(e);case 4:if(null==(n=this.scheduleUpdate())){t.n=5;break}return t.n=5,n;case 5:return t.a(2,!this.isUpdatePending)}},t,this,[[1,3]])})),function(){return n.apply(this,arguments)})},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){if(this.isUpdatePending){if(!this.hasUpdated){var t;if(null!==(t=this.renderRoot)&&void 0!==t||(this.renderRoot=this.createRenderRoot()),this._$Ep){var n,e=w(this._$Ep);try{for(e.s();!(n=e.n()).done;){var i=y(n.value,2),o=i[0],a=i[1];this[o]=a}}catch(t){e.e(t)}finally{e.f()}this._$Ep=void 0}var r=this.constructor.elementProperties;if(r.size>0){var s,c=w(r);try{for(c.s();!(s=c.n()).done;){var l=y(s.value,2),u=l[0],d=l[1],h=d.wrapped,v=this[u];!0!==h||this._$AL.has(u)||void 0===v||this.C(u,void 0,d,v)}}catch(t){c.e(t)}finally{c.f()}}}var p=!1,f=this._$AL;try{var m;(p=this.shouldUpdate(f))?(this.willUpdate(f),null!==(m=this._$EO)&&void 0!==m&&m.forEach(function(t){var n;return null===(n=t.hostUpdate)||void 0===n?void 0:n.call(t)}),this.update(f)):this._$EM()}catch(f){throw p=!1,this._$EM(),f}p&&this._$AE(f)}}},{key:"willUpdate",value:function(t){}},{key:"_$AE",value:function(t){var n;null!==(n=this._$EO)&&void 0!==n&&n.forEach(function(t){var n;return null===(n=t.hostUpdated)||void 0===n?void 0:n.call(t)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}},{key:"_$EM",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$ES}},{key:"shouldUpdate",value:function(t){return!0}},{key:"update",value:function(t){var n=this;this._$Eq&&(this._$Eq=this._$Eq.forEach(function(t){return n._$ET(t,n[t])})),this._$EM()}},{key:"updated",value:function(t){}},{key:"firstUpdated",value:function(t){}}],[{key:"addInitializer",value:function(t){var n;this._$Ei(),(null!==(n=this.l)&&void 0!==n?n:this.l=[]).push(t)}},{key:"observedAttributes",get:function(){return this.finalize(),this._$Eh&&_(this._$Eh.keys())}},{key:"createProperty",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut;if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(t,n),!n.noAccessor){var e=Symbol(),i=this.getPropertyDescriptor(t,e,n);void 0!==i&&J(this.prototype,t,i)}}},{key:"getPropertyDescriptor",value:function(t,n,e){var i,o=null!==(i=Q(this.prototype,t))&&void 0!==i?i:{get:function(){return this[n]},set:function(t){this[n]=t}},a=o.get,r=o.set;return{get:a,set:function(n){var i=null==a?void 0:a.call(this);null!=r&&r.call(this,n),this.requestUpdate(t,i,e)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(t){var n;return null!==(n=this.elementProperties.get(t))&&void 0!==n?n:ut}},{key:"_$Ei",value:function(){if(!this.hasOwnProperty(st("elementProperties"))){var t=et(this);t.finalize(),void 0!==t.l&&(this.l=_(t.l)),this.elementProperties=new Map(t.elementProperties)}}},{key:"finalize",value:function(){if(!this.hasOwnProperty(st("finalized"))){if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(st("properties"))){var t,n=this.properties,e=w([].concat(_(tt(n)),_(nt(n))));try{for(e.s();!(t=e.n()).done;){var i=t.value;this.createProperty(i,n[i])}}catch(t){e.e(t)}finally{e.f()}}var o=this[Symbol.metadata];if(null!==o){var a=litPropertyMetadata.get(o);if(void 0!==a){var r,s=w(a);try{for(s.s();!(r=s.n()).done;){var c=y(r.value,2),l=c[0],u=c[1];this.elementProperties.set(l,u)}}catch(t){s.e(t)}finally{s.f()}}}this._$Eh=new Map;var d,h=w(this.elementProperties);try{for(h.s();!(d=h.n()).done;){var v=y(d.value,2),p=v[0],f=v[1],m=this._$Eu(p,f);void 0!==m&&this._$Eh.set(m,p)}}catch(t){h.e(t)}finally{h.f()}this.elementStyles=this.finalizeStyles(this.styles)}}},{key:"finalizeStyles",value:function(t){var n=[];if(Array.isArray(t)){var e,i=w(new Set(t.flat(1/0).reverse()));try{for(i.s();!(e=i.n()).done;){var o=e.value;n.unshift(K(o))}}catch(t){i.e(t)}finally{i.f()}}else void 0!==t&&n.push(K(t));return n}},{key:"_$Eu",value:function(t,n){var e=n.attribute;return!1===e?void 0:"string"==typeof e?e:"string"==typeof t?t.toLowerCase():void 0}}]);var n}();dt.elementStyles=[],dt.shadowRootOptions={mode:"open"},dt[st("elementProperties")]=new Map,dt[st("finalized")]=new Map,null!=rt&&rt({ReactiveElement:dt}),(null!==(e=it.reactiveElementVersions)&&void 0!==e?e:it.reactiveElementVersions=[]).push("2.1.1");var ht=globalThis,vt=ht.trustedTypes,pt=vt?vt.createPolicy("lit-html",{createHTML:function(t){return t}}):void 0,ft="$lit$",mt="lit$".concat(Math.random().toFixed(9).slice(2),"$"),_t="?"+mt,yt="<".concat(_t,">"),bt=document,gt=function(){return bt.createComment("")},xt=function(t){return null===t||"object"!=m(t)&&"function"!=typeof t},wt=Array.isArray,kt="[ \t\n\f\r]",Et=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,$t=/-->/g,At=/>/g,St=RegExp(">|".concat(kt,"(?:([^\\s\"'>=/]+)(").concat(kt,"*=").concat(kt,"*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),Ct=/'/g,Pt=/"/g,Tt=/^(?:script|style|textarea|title)$/i,Mt=Symbol.for("lit-noChange"),Ot=Symbol.for("lit-nothing"),Rt=new WeakMap,jt=bt.createTreeWalker(bt,129);function Lt(t,n){if(!wt(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==pt?pt.createHTML(n):n}var Ht=function(t,n){for(var e,i=t.length-1,o=[],a=2===n?"<svg>":3===n?"<math>":"",r=Et,s=0;s<i;s++){for(var c=t[s],l=void 0,u=void 0,d=-1,h=0;h<c.length&&(r.lastIndex=h,null!==(u=r.exec(c)));)h=r.lastIndex,r===Et?"!--"===u[1]?r=$t:void 0!==u[1]?r=At:void 0!==u[2]?(Tt.test(u[2])&&(e=RegExp("</"+u[2],"g")),r=St):void 0!==u[3]&&(r=St):r===St?">"===u[0]?(r=null!=e?e:Et,d=-1):void 0===u[1]?d=-2:(d=r.lastIndex-u[2].length,l=u[1],r=void 0===u[3]?St:'"'===u[3]?Pt:Ct):r===Pt||r===Ct?r=St:r===$t||r===At?r=Et:(r=St,e=void 0);var v=r===St&&t[s+1].startsWith("/>")?" ":"";a+=r===Et?c+yt:d>=0?(o.push(l),c.slice(0,d)+ft+c.slice(d)+mt+v):c+mt+(-2===d?s:v)}return[Lt(t,a+(t[i]||"<?>")+(2===n?"</svg>":3===n?"</math>":"")),o]},zt=function(){return S(function t(n,e){var i,o=n.strings,a=n._$litType$;$(this,t),this.parts=[];var r=0,s=0,c=o.length-1,l=this.parts,u=y(Ht(o,a),2),d=u[0],h=u[1];if(this.el=t.createElement(d,e),jt.currentNode=this.el.content,2===a||3===a){var v=this.el.content.firstChild;v.replaceWith.apply(v,_(v.childNodes))}for(;null!==(i=jt.nextNode())&&l.length<c;){if(1===i.nodeType){if(i.hasAttributes()){var p,f=w(i.getAttributeNames());try{for(f.s();!(p=f.n()).done;){var m=p.value;if(m.endsWith(ft)){var b=h[s++],g=i.getAttribute(m).split(mt),x=/([.?@])?(.*)/.exec(b);l.push({type:1,index:r,name:x[2],strings:g,ctor:"."===x[1]?Bt:"?"===x[1]?Ft:"@"===x[1]?Vt:Nt}),i.removeAttribute(m)}else m.startsWith(mt)&&(l.push({type:6,index:r}),i.removeAttribute(m))}}catch(t){f.e(t)}finally{f.f()}}if(Tt.test(i.tagName)){var k=i.textContent.split(mt),E=k.length-1;if(E>0){i.textContent=vt?vt.emptyScript:"";for(var A=0;A<E;A++)i.append(k[A],gt()),jt.nextNode(),l.push({type:2,index:++r});i.append(k[E],gt())}}}else if(8===i.nodeType)if(i.data===_t)l.push({type:2,index:r});else for(var S=-1;-1!==(S=i.data.indexOf(mt,S+1));)l.push({type:7,index:r}),S+=mt.length-1;r++}},null,[{key:"createElement",value:function(t,n){var e=bt.createElement("template");return e.innerHTML=t,e}}])}();function It(t,n){var e,i,o,a,r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,c=arguments.length>3?arguments[3]:void 0;if(n===Mt)return n;var l=void 0!==c?null===(e=s._$Co)||void 0===e?void 0:e[c]:s._$Cl,u=xt(n)?void 0:n._$litDirective$;return(null===(i=l)||void 0===i?void 0:i.constructor)!==u&&(null!==(o=l)&&void 0!==o&&null!==(a=o._$AO)&&void 0!==a&&a.call(o,!1),void 0===u?l=void 0:(l=new u(t))._$AT(t,s,c),void 0!==c?(null!==(r=s._$Co)&&void 0!==r?r:s._$Co=[])[c]=l:s._$Cl=l),void 0!==l&&(n=It(t,l._$AS(t,n.values),l,c)),n}var Ut=function(){return S(function t(n,e){$(this,t),this._$AV=[],this._$AN=void 0,this._$AD=n,this._$AM=e},[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(t){var n,e=this._$AD,i=e.el.content,o=e.parts,a=(null!==(n=null==t?void 0:t.creationScope)&&void 0!==n?n:bt).importNode(i,!0);jt.currentNode=a;for(var r=jt.nextNode(),s=0,c=0,l=o[0];void 0!==l;){var u;if(s===l.index){var d=void 0;2===l.type?d=new Dt(r,r.nextSibling,this,t):1===l.type?d=new l.ctor(r,l.name,l.strings,this,t):6===l.type&&(d=new qt(r,this,t)),this._$AV.push(d),l=o[++c]}s!==(null===(u=l)||void 0===u?void 0:u.index)&&(r=jt.nextNode(),s++)}return jt.currentNode=bt,a}},{key:"p",value:function(t){var n,e=0,i=w(this._$AV);try{for(i.s();!(n=i.n()).done;){var o=n.value;void 0!==o&&(void 0!==o.strings?(o._$AI(t,o,e),e+=o.strings.length-2):o._$AI(t[e])),e++}}catch(t){i.e(t)}finally{i.f()}}}])}(),Dt=function(){function t(n,e,i,o){var a;$(this,t),this.type=2,this._$AH=Ot,this._$AN=void 0,this._$AA=n,this._$AB=e,this._$AM=i,this.options=o,this._$Cv=null===(a=null==o?void 0:o.isConnected)||void 0===a||a}return S(t,[{key:"_$AU",get:function(){var t,n;return null!==(t=null===(n=this._$AM)||void 0===n?void 0:n._$AU)&&void 0!==t?t:this._$Cv}},{key:"parentNode",get:function(){var t,n=this._$AA.parentNode,e=this._$AM;return void 0!==e&&11===(null===(t=n)||void 0===t?void 0:t.nodeType)&&(n=e.parentNode),n}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(t){t=It(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this),xt(t)?t===Ot||null==t||""===t?(this._$AH!==Ot&&this._$AR(),this._$AH=Ot):t!==this._$AH&&t!==Mt&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):function(t){return wt(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator])}(t)?this.k(t):this._(t)}},{key:"O",value:function(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}},{key:"T",value:function(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}},{key:"_",value:function(t){this._$AH!==Ot&&xt(this._$AH)?this._$AA.nextSibling.data=t:this.T(bt.createTextNode(t)),this._$AH=t}},{key:"$",value:function(t){var n,e=t.values,i=t._$litType$,o="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=zt.createElement(Lt(i.h,i.h[0]),this.options)),i);if((null===(n=this._$AH)||void 0===n?void 0:n._$AD)===o)this._$AH.p(e);else{var a=new Ut(o,this),r=a.u(this.options);a.p(e),this.T(r),this._$AH=a}}},{key:"_$AC",value:function(t){var n=Rt.get(t.strings);return void 0===n&&Rt.set(t.strings,n=new zt(t)),n}},{key:"k",value:function(n){wt(this._$AH)||(this._$AH=[],this._$AR());var e,i,o=this._$AH,a=0,r=w(n);try{for(r.s();!(i=r.n()).done;){var s=i.value;a===o.length?o.push(e=new t(this.O(gt()),this.O(gt()),this,this.options)):e=o[a],e._$AI(s),a++}}catch(t){r.e(t)}finally{r.f()}a<o.length&&(this._$AR(e&&e._$AB.nextSibling,a),o.length=a)}},{key:"_$AR",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0;for(null===(e=this._$AP)||void 0===e||e.call(this,!1,!0,n);t!==this._$AB;){var e,i=t.nextSibling;t.remove(),t=i}}},{key:"setConnected",value:function(t){var n;void 0===this._$AM&&(this._$Cv=t,null===(n=this._$AP)||void 0===n||n.call(this,t))}}])}(),Nt=function(){return S(function t(n,e,i,o,a){$(this,t),this.type=1,this._$AH=Ot,this._$AN=void 0,this.element=n,this.name=e,this._$AM=o,this.options=a,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Ot},[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,e=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=this.strings,a=!1;if(void 0===o)t=It(this,t,n,0),(a=!xt(t)||t!==this._$AH&&t!==Mt)&&(this._$AH=t);else{var r,s,c=t;for(t=o[0],r=0;r<o.length-1;r++)(s=It(this,c[e+r],n,r))===Mt&&(s=this._$AH[r]),a||(a=!xt(s)||s!==this._$AH[r]),s===Ot?t=Ot:t!==Ot&&(t+=(null!=s?s:"")+o[r+1]),this._$AH[r]=s}a&&!i&&this.j(t)}},{key:"j",value:function(t){t===Ot?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}])}(),Bt=function(){function t(){var n;return $(this,t),(n=P(this,t,arguments)).type=3,n}return M(t,Nt),S(t,[{key:"j",value:function(t){this.element[this.name]=t===Ot?void 0:t}}])}(),Ft=function(){function t(){var n;return $(this,t),(n=P(this,t,arguments)).type=4,n}return M(t,Nt),S(t,[{key:"j",value:function(t){this.element.toggleAttribute(this.name,!!t&&t!==Ot)}}])}(),Vt=function(){function t(n,e,i,o,a){var r;return $(this,t),(r=P(this,t,[n,e,i,o,a])).type=5,r}return M(t,Nt),S(t,[{key:"_$AI",value:function(t){var n;if((t=null!==(n=It(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,0))&&void 0!==n?n:Ot)!==Mt){var e=this._$AH,i=t===Ot&&e!==Ot||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,o=t!==Ot&&(e===Ot||i);i&&this.element.removeEventListener(this.name,this,e),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}}},{key:"handleEvent",value:function(t){var n,e;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==n?n:this.element,t):this._$AH.handleEvent(t)}}])}(),qt=function(){return S(function t(n,e,i){$(this,t),this.element=n,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(t){It(this,t)}}])}(),Xt=ht.litHtmlPolyfillSupport;null!=Xt&&Xt(zt,Dt),(null!==(i=ht.litHtmlVersions)&&void 0!==i?i:ht.litHtmlVersions=[]).push("3.3.1");var Yt=globalThis,Wt=function(){function t(){var n;return $(this,t),(n=P(this,t,arguments)).renderOptions={host:T(n)},n._$Do=void 0,n}return M(t,dt),S(t,[{key:"createRenderRoot",value:function(){var n,e,i=p(t,"createRenderRoot",this,3)([]);return null!==(e=(n=this.renderOptions).renderBefore)&&void 0!==e||(n.renderBefore=i.firstChild),i}},{key:"update",value:function(n){var e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),p(t,"update",this,3)([n]),this._$Do=function(t,n,e){var i,o=null!==(i=null==e?void 0:e.renderBefore)&&void 0!==i?i:n,a=o._$litPart$;if(void 0===a){var r,s=null!==(r=null==e?void 0:e.renderBefore)&&void 0!==r?r:null;o._$litPart$=a=new Dt(n.insertBefore(gt(),s),s,void 0,null!=e?e:{})}return a._$AI(t),a}(e,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var n;p(t,"connectedCallback",this,3)([]),null===(n=this._$Do)||void 0===n||n.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var n;p(t,"disconnectedCallback",this,3)([]),null===(n=this._$Do)||void 0===n||n.setConnected(!1)}},{key:"render",value:function(){return Mt}}])}();Wt._$litElement$=!0,Wt.finalized=!0,null===(o=Yt.litElementHydrateSupport)||void 0===o||o.call(Yt,{LitElement:Wt});var Gt=Yt.litElementPolyfillSupport;null==Gt||Gt({LitElement:Wt}),(null!==(a=Yt.litElementVersions)&&void 0!==a?a:Yt.litElementVersions=[]).push("4.2.1");var Kt=G(r||(r=v(["\n  :host {\n    --card-background-color: var(--ha-card-background, var(--card-background-color, #1c1c1c));\n    --selected-color: var(--primary-color, #03a9f4);\n    --light-color: var(--warning-color, #ffa500);\n    --light-off-color: var(--disabled-text-color, #777777);\n  }\n\n  .card-container {\n    background-color: var(--card-background-color);\n    border-radius: var(--ha-card-border-radius, 12px);\n    padding: 16px;\n    color: var(--primary-text-color);\n  }\n\n  .card-header {\n    margin-bottom: 16px;\n  }\n\n  .card-title {\n    font-size: 1.5rem;\n    margin-bottom: 8px;\n    color: var(--primary-text-color);\n  }\n\n  .card-subtitle {\n    font-size: 1rem;\n    color: var(--secondary-text-color);\n    font-weight: normal;\n  }\n\n  .card-content {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 16px;\n  }\n\n  .entity-row {\n    display: flex;\n    align-items: center;\n    gap: 16px;\n  }\n\n  .entity-row.size-2 {\n    flex-basis: 100%;\n  }\n\n  .entity-row.size-1 {\n    flex-basis: calc(50% - 8px);\n  }\n\n  .button-description-container {\n    display: flex;\n    align-items: center;\n    gap: 16px;\n  }\n\n  .entity-info {\n    flex: 1;\n    overflow: hidden;\n  }\n\n  .entity-name {\n    font-weight: bold;\n  }\n\n  .entity-description {\n    color: var(--secondary-text-color);\n    font-size: 0.9rem;\n  }\n\n  .custom-selector {\n    height: 40px;\n    background-color: var(--card-background-color);\n    border: 1px solid var(--divider-color);\n    border-radius: 8px;\n    padding: 0 8px;\n    color: var(--primary-text-color);\n  }\n\n  .custom-label {\n    font-size: 0.9rem;\n    color: var(--secondary-text-color);\n    margin-bottom: 4px;\n  }\n\n  @media (max-width: 480px) {\n    .custom-label {\n      font-size: 0.8rem;\n    }\n  }\n"]))),Zt=function(){function t(){var n;return $(this,t),(n=P(this,t)).attachShadow({mode:"open"}),n}return M(t,H),S(t,[{key:"setConfig",value:function(n){if(!n.entities)throw new Error("Please define entities");p(t,"setConfig",this,3)([n])}},{key:"_handleButtonClick",value:function(t,n){n.stopPropagation(),I(this._hass,t)}},{key:"_handleMoreInfo",value:function(t,n){n.stopPropagation(),B(this,t)}},{key:"render",value:function(){var t=this;if(this._hass&&this._config){var n=this._config.entities.map(function(n){var e="string"==typeof n?n:n.entity,i=t._hass.states[e];if(!i)return'\n          <div class="entity-row size-2">\n            <div class="button-description-container">\n              <base-button icon="mdi:alert" disabled></base-button>\n            </div>\n            <div class="entity-info">\n              <div class="entity-name">'.concat(e,' (unavailable)</div>\n              <div class="entity-description">Entity not available</div>\n            </div>\n          </div>');var o=n.name||i.attributes.friendly_name||e,a=n.description||"",r=n.icon||i.attributes.icon||"",s=1===n.size?1:2,c="small"===n.buttonSize,l=z.isEntityActive(i),u=z.getEntityIcon(e,i,r);return'\n        <div class="entity-row size-'.concat(s,'">\n          <div class="button-description-container">\n            <base-button\n              .small=').concat(c,"\n              .icon=").concat(u,"\n              .active=").concat(l,"\n              @button-click=").concat(function(n){return t._handleButtonClick(e,n)},"\n              @button-right-click=").concat(function(n){return t._handleMoreInfo(e,n)},"\n              @button-long-press=").concat(function(n){return t._handleMoreInfo(e,n)},'\n            ></base-button>\n          </div>\n          <div class="entity-info">\n            <div class="entity-name">').concat(o,'</div>\n            <div class="entity-description">').concat(z.processTemplate(a,e,t._hass),"</div>\n          </div>\n        </div>")}).join(""),e=this._config.title?"<h1>".concat(this._config.title,"</h1>"):"",i=this._config.subtitle?"<p>".concat(this._config.subtitle,"</p>"):"";this.shadowRoot.innerHTML="\n      <style>\n        ".concat(Kt,'\n      </style>\n      <div class="card-container">\n        <div class="card-header">\n          ').concat(e,"\n          ").concat(i,'\n        </div>\n        <div class="card-content">\n          ').concat(n,"\n        </div>\n      </div>\n    ")}}}],[{key:"getStubConfig",value:function(){return{entities:[{entity:"light.demo_light"}],title:"Entity Button Card"}}}])}();customElements.define("entity-button-card",Zt);var Jt=G(s||(s=v(['\n  .custom-button {\n    background-color: var(--lovelace-background, var(--ha-card-background, var(--card-background-color, white)));\n    border-radius: var(--ha-card-border-radius, 15px);\n    width: 80px;\n    height: 80px;\n    cursor: pointer;\n    border: none;\n    transition: box-shadow 0.3s ease-in-out, background-color 0.3s ease-in-out;\n    box-shadow: var(--ha-card-box-shadow, 0px 3px 3px -2px rgba(0, 0, 0, 0.2), 0px 3px 4px 0px rgba(0, 0, 0, 0.14), 0px 1px 8px 0px rgba(0, 0, 0, 0.12));\n    position: relative;\n    -webkit-tap-highlight-color: transparent;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n  }\n\n  .custom-button.small {\n    width: 50px;\n    height: 50px;\n    border-radius: 10px;\n  }\n\n  .custom-button:hover {\n    box-shadow: var(--shadow-elevation-hover-box, 0px 3px 3px -2px rgba(0, 0, 0, 0.2), 0px 3px 4px 0px rgba(0, 0, 0, 0.14), 0px 1px 8px 0px rgba(0, 0, 0, 0.12));\n    background-color: rgba(255, 255, 255, 0.2);\n  }\n\n  .custom-button.active:hover {\n    box-shadow: var(--shadow-elevation-hover-box, inset 0px 2px 4px -1px rgba(0, 0, 0, 0.2), inset 0px 4px 5px 0px rgba(0, 0, 0, 0.14), inset 0px 1px 10px 0px rgba(0, 0, 0, 0.12));\n    background-color: rgba(255, 255, 255, 0.2);\n  }\n\n  .custom-button.active {\n    box-shadow: var(--shadow-elevation-pressed-box, inset 0px 2px 4px -1px rgba(0, 0, 0, 0.2), inset 0px 4px 5px 0px rgba(0, 0, 0, 0.14), inset 0px 1px 10px 0px rgba(0, 0, 0, 0.12));\n    background-color: rgba(var(--lovelace-background, 33, 150, 243), 0.2);\n  }\n\n  .custom-button.selected {\n    border: 3px solid var(--primary-text-color);\n    box-shadow: none;\n  }\n\n  .custom-button.unavailable {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  .button-icon.active {\n    color: var(--active-icon-color);\n  }\n\n  .button-icon {\n    color: var(--primary-text-color);\n  }\n\n  ha-icon {\n    margin-bottom: 4px;\n    font-size: 16px;\n  }\n\n  .button-content {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n  }\n\n  .button-name {\n    font-weight: bold;\n    font-size: 1rem;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    width: 100%;\n    color: var(--primary-text-color);\n  }\n\n  :host {\n    -webkit-tap-highlight-color: transparent;\n  }\n\n  button,\n  .card-container,\n  .custom-button,\n  [role="button"],\n  .clickable {\n    -webkit-tap-highlight-color: transparent;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    touch-action: manipulation;\n  }\n\n  .card-content {\n    -webkit-tap-highlight-color: transparent;\n    touch-action: pan-y;\n  }\n\n  input,\n  textarea {\n    -webkit-user-select: text;\n    -moz-user-select: text;\n    -ms-user-select: text;\n    user-select: text;\n  }\n']))),Qt=function(){function t(){var n;return $(this,t),(n=P(this,t))._icon="mdi:help-circle-outline",n._active=!1,n._selected=!1,n._disabled=!1,n._small=!1,n._name="",n._entity="",n._lastTapTime=0,n._longPressTimer=null,n._singlePressTimer=null,n._longPressed=!1,n._doubleClickDelay=200,n._longPressDelay=500,n.attachShadow({mode:"open"}),n}return M(t,O(HTMLElement)),S(t,[{key:"connectedCallback",value:function(){this._icon=this.getAttribute("icon")||"mdi:help-circle-outline",this._active=this.hasAttribute("active")&&"false"!==this.getAttribute("active"),this._selected=this.hasAttribute("selected")&&"false"!==this.getAttribute("selected"),this._disabled=this.hasAttribute("disabled")&&"false"!==this.getAttribute("disabled"),this._name=this.getAttribute("name")||"",this._small=this.hasAttribute("small"),this._entity=this.getAttribute("data-entity")||"",this.render(),this._setupEvents()}},{key:"disconnectedCallback",value:function(){this._clearAllTimers(),this._removeEvents()}},{key:"_clearAllTimers",value:function(){this._longPressTimer&&(clearTimeout(this._longPressTimer),this._longPressTimer=null),this._singlePressTimer&&(clearTimeout(this._singlePressTimer),this._singlePressTimer=null)}},{key:"_removeEvents",value:function(){var t,n=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("button");n&&(n.removeEventListener("mousedown",this._handleStart),n.removeEventListener("mouseup",this._handleEnd),n.removeEventListener("mouseleave",this._handleCancel),n.removeEventListener("click",this._handleClick),n.removeEventListener("contextmenu",this._handleContextMenu),n.removeEventListener("touchstart",this._handleStart),n.removeEventListener("touchend",this._handleEnd),n.removeEventListener("touchcancel",this._handleCancel))}},{key:"_setupEvents",value:function(){var t,n=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("button");n&&(this._handleStart=this._onInteractionStart.bind(this),this._handleEnd=this._onInteractionEnd.bind(this),this._handleCancel=this._onInteractionCancel.bind(this),this._handleClick=this._onClick.bind(this),this._handleContextMenu=this._onContextMenu.bind(this),n.addEventListener("mousedown",this._handleStart),n.addEventListener("mouseup",this._handleEnd),n.addEventListener("mouseleave",this._handleCancel),n.addEventListener("click",this._handleClick),n.addEventListener("contextmenu",this._handleContextMenu),n.addEventListener("touchstart",this._handleStart,{passive:!0}),n.addEventListener("touchend",this._handleEnd),n.addEventListener("touchcancel",this._handleCancel))}},{key:"_onInteractionStart",value:function(t){var n=this;this._disabled||(this._setVisualFeedback(!0),this._longPressed=!1,this._longPressTimer=window.setTimeout(function(){n._longPressed=!0,N(n,"button-long-press",{originalEvent:t,active:n._active,selected:n._selected,entity:n._entity}),N(n,"haptic","heavy")},this._longPressDelay),this._createRippleEffect(t))}},{key:"_onInteractionEnd",value:function(t){this._disabled||(this._longPressTimer&&(clearTimeout(this._longPressTimer),this._longPressTimer=null),this._setVisualFeedback(!1),this._longPressed&&(this._longPressed=!1))}},{key:"_onInteractionCancel",value:function(t){this._clearAllTimers(),this._setVisualFeedback(!1),this._longPressed=!1}},{key:"_onClick",value:function(t){this._disabled||this._longPressed||this._handleTap(t)}},{key:"_handleTap",value:function(t){var n=this,e=Date.now(),i=e-this._lastTapTime;this._singlePressTimer&&(clearTimeout(this._singlePressTimer),this._singlePressTimer=null),i<this._doubleClickDelay?(N(this,"button-double-click",{originalEvent:t,active:this._active,selected:this._selected,entity:this._entity}),N(this,"haptic","medium"),this._lastTapTime=0):(this._lastTapTime=e,this._singlePressTimer=window.setTimeout(function(){N(n,"button-click",{originalEvent:t,active:n._active,selected:n._selected,entity:n._entity}),N(n,"haptic","light"),n._singlePressTimer=null},this._doubleClickDelay))}},{key:"_onContextMenu",value:function(t){this._disabled||(t.preventDefault(),N(this,"button-right-click",{originalEvent:t,active:this._active,selected:this._selected,entity:this._entity}),N(this,"haptic","medium"))}},{key:"_setVisualFeedback",value:function(t){var n,e=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector("button");e&&(t?e.classList.add("pressed"):e.classList.remove("pressed"))}},{key:"_createRippleEffect",value:function(t){var n,e,i=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector("button");if(i){var o=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".ripple");o&&o.remove();var a=document.createElement("span");a.classList.add("ripple");var r,s,c=i.getBoundingClientRect(),l=2*Math.max(c.width,c.height);t instanceof MouseEvent?(r=t.clientX-c.left,s=t.clientY-c.top):t instanceof TouchEvent&&t.touches&&t.touches[0]?(r=t.touches[0].clientX-c.left,s=t.touches[0].clientY-c.top):(r=c.width/2,s=c.height/2),a.style.width=a.style.height="".concat(l,"px"),a.style.left="".concat(r-l/2,"px"),a.style.top="".concat(s-l/2,"px"),i.appendChild(a),setTimeout(function(){a&&a.parentNode&&a.remove()},600)}}},{key:"render",value:function(){var t="custom-button ".concat(this._active?"active":""," ").concat(this._selected?"selected":""," ").concat(this._disabled?"unavailable":""),n="button-icon ".concat(this._active?"active":""," ").concat(this._selected?"selected":""," ").concat(this._disabled?"unavailable":""),e="\n      <style>\n        ".concat(Jt,'\n        \n        .custom-button {\n          position: relative;\n          overflow: hidden;\n          transform: translateZ(0);\n          transition: transform 0.1s ease-out;\n        }\n        \n        .custom-button.pressed {\n          transform: scale(0.96);\n        }\n        \n        .ripple {\n          position: absolute;\n          border-radius: 50%;\n          background-color: rgba(255, 255, 255, 0.4);\n          transform: scale(0);\n          animation: ripple 0.6s ease-out;\n          pointer-events: none;\n          z-index: 0;\n        }\n        \n        @keyframes ripple {\n          to {\n            transform: scale(2);\n            opacity: 0;\n          }\n        }\n        \n        .button-content {\n          position: relative;\n          z-index: 1;\n        }\n      </style>\n      \n      <div>\n        <button class="').concat(t," ").concat(this._small?"small":"",'" type="button" ?disabled="').concat(this._disabled,'">\n          <ha-icon icon="').concat(this._icon,'" class="').concat(n,'"></ha-icon>\n          <div class="button-content">\n            ').concat(this._name?'<div class="button-name">'.concat(this._name,"</div>"):"",'\n            <slot name="status"></slot>\n            <slot></slot>\n          </div>\n        </button>\n      </div>\n    ');this.shadowRoot&&(this.shadowRoot.innerHTML=e)}},{key:"active",get:function(){return this._active},set:function(t){this._active=t,this.render(),this._setupEvents()}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=t,this.render(),this._setupEvents()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this.render(),this._setupEvents()}},{key:"attributeChangedCallback",value:function(t,n,e){if(n!==e){switch(t){case"active":this._active=null!==e&&"false"!==e;break;case"selected":this._selected=null!==e&&"false"!==e;break;case"disabled":this._disabled=null!==e&&"false"!==e;break;case"icon":this._icon=e||"mdi:help-circle-outline";break;case"name":this._name=e||"";break;case"data-entity":this._entity=e||""}this.render(),this._setupEvents()}}}],[{key:"observedAttributes",get:function(){return["icon","active","selected","disabled","name","data-entity"]}}])}();customElements.define("base-button",Qt);var tn=G(c||(c=v(['\n  :host {\n    display: block;\n    width: 100%;\n    --thumb-size: 14px;\n    --track-height: 16px;\n  }\n\n  .slider-container {\n    width: 100%;\n    margin: 0;\n    padding: 0;\n  }\n\n  .slider-container.vertical {\n    height: 100%;\n    width: var(--track-height);\n    min-height: 150px;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .slider-container.vertical .slider-wrapper {\n    height: 100%;\n    width: var(--track-height);\n    flex: 1;\n    position: relative;\n  }\n\n  .slider-container.vertical .slider-track {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: auto;\n    border-radius: var(--ha-card-border-radius, 14px);\n  }\n\n  .slider-container.vertical .slider-fill {\n    position: absolute;\n    width: 100%;\n    height: 0;\n    top: auto;\n    bottom: 0;\n    left: 0;\n    right: 0;\n  }\n\n  .slider-container.vertical input[type="range"] {\n    transform: rotate(90deg);\n    transform-origin: left bottom;\n    width: 100%;\n    height: 100%;\n    -webkit-appearance: slider-vertical;\n  }\n\n  .slider-label {\n    font-size: 0.75rem;\n    color: var(--secondary-text-color);\n    margin-bottom: 4px;\n  }\n\n  .slider-container.vertical .slider-label {\n    writing-mode: vertical-lr;\n    transform: rotate(180deg);\n    margin-right: 4px;\n    height: auto;\n    line-height: normal;\n    text-align: center;\n    margin-bottom: 8px;\n  }\n\n  .slider-wrapper {\n    position: relative;\n    height: var(--track-height);\n    width: 100%;\n    touch-action: none;\n  }\n\n  .slider-track {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 100%;\n    background-color: var(--card-background-color, var(--ha-card-background, var(--card-background-color, white)));\n    border-radius: var(--ha-card-border-radius, 14px);\n    box-shadow: var(--ha-card-box-shadow, 0px 2px 2px -1px rgba(0, 0, 0, 0.2), 0px 2px 3px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));\n    overflow: hidden;\n    cursor: pointer;\n  }\n\n  .slider-fill {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    background-color: rgba(var(--rgb-primary-text-color, 33, 150, 243), 0.2);\n    pointer-events: none;\n    transition: none;\n  }\n\n  .slider-thumb {\n    position: absolute;\n    top: 50%;\n    left: 0;\n    width: var(--thumb-size);\n    height: var(--thumb-size);\n    background-color: var(--primary-text-color, #03a9f4);\n    border-radius: 50%;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n    margin-top: calc(-1 * var(--thumb-size) / 2);\n    margin-left: calc(-1 * var(--thumb-size) / 2);\n    pointer-events: none;\n    transform-origin: center;\n    will-change: transform;\n    transition: none;\n    z-index: 2;\n  }\n\n  .slider-container.vertical .slider-thumb {\n    left: 50%;\n    top: auto;\n    bottom: 0;\n    margin-left: calc(-1 * var(--thumb-size) / 2);\n    margin-bottom: calc(-1 * var(--thumb-size) / 2);\n    margin-top: 0;\n  }\n\n  input[type="range"] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    opacity: 0;\n    cursor: pointer;\n    z-index: 1;\n  }\n\n  .slider-track.active .slider-thumb {\n    transform: scale(1.2);\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.25);\n  }\n\n  .slider-track.disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  @media (max-width: 480px) {\n    .slider-container.vertical {\n      min-height: 100px;\n    }\n  }\n']))),nn=function(){function t(){var n;return $(this,t),(n=P(this,t))._value=0,n._min=0,n._max=100,n._disabled=!1,n._label="",n._orientation="horizontal",n._showFill=!0,n._showThumb=!0,n._isDragging=!1,n._startX=0,n._startY=0,n._lastX=0,n._lastY=0,n._lastTime=0,n._velocityX=0,n._velocityY=0,n._animId=null,n._posHistory=[],n._friction=.85,n._velocityFactor=15,n._minVelocity=1,n.attachShadow({mode:"open"}),n}return M(t,O(HTMLElement)),S(t,[{key:"connectedCallback",value:function(){this._value=this.hasAttribute("value")&&parseFloat(this.getAttribute("value"))||0,this._min=this.hasAttribute("min")&&parseFloat(this.getAttribute("min"))||0,this._max=this.hasAttribute("max")&&parseFloat(this.getAttribute("max"))||100,this._disabled=this.hasAttribute("disabled"),this._label=this.getAttribute("label")||"",this._showFill=!this.hasAttribute("show-fill")||"false"!==this.getAttribute("show-fill"),this._showThumb=!this.hasAttribute("show-thumb")||"false"!==this.getAttribute("show-thumb"),this._orientation=this.getAttribute("orientation")||"horizontal",this.render(),this._setupEvents()}},{key:"disconnectedCallback",value:function(){this._cleanupEvents(),this._animId&&(cancelAnimationFrame(this._animId),this._animId=null)}},{key:"_cleanupEvents",value:function(){document.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),document.removeEventListener("touchmove",this._handleTouchMove),document.removeEventListener("touchend",this._handleTouchEnd),document.removeEventListener("touchcancel",this._handleTouchEnd)}},{key:"_setupEvents",value:function(){var t,n,e=this;this._handleMouseDown=this._onStart.bind(this,"mouse"),this._handleTouchStart=this._onStart.bind(this,"touch"),this._handleMouseMove=this._onMove.bind(this,"mouse"),this._handleTouchMove=this._onMove.bind(this,"touch"),this._handleMouseUp=this._onEnd.bind(this,"mouse"),this._handleTouchEnd=this._onEnd.bind(this,"touch");var i=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".slider-track");if(i){i.addEventListener("mousedown",this._handleMouseDown),i.addEventListener("touchstart",this._handleTouchStart,{passive:!1});var o=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector("input");o&&o.addEventListener("input",function(t){e._value=parseFloat(t.target.value),e._updateVisuals(),e._emitEvent("input")})}}},{key:"_onStart",value:function(t,n){if(!this._disabled){"touch"===t&&n.preventDefault();var e="mouse"===t?n.clientX:n.touches[0].clientX,i="mouse"===t?n.clientY:n.touches[0].clientY;this._isDragging=!0,this._startX=e,this._startY=i,this._lastX=e,this._lastY=i,this._lastTime=Date.now(),this._velocityX=0,this._velocityY=0,this._posHistory=[],this._addPositionToHistory(e,i),this._animId&&(cancelAnimationFrame(this._animId),this._animId=null),this._updateValueFromPosition(e,i),document.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp),document.addEventListener("touchmove",this._handleTouchMove,{passive:!1}),document.addEventListener("touchend",this._handleTouchEnd),document.addEventListener("touchcancel",this._handleTouchEnd)}}},{key:"_onMove",value:function(t,n){if(this._isDragging){"touch"===t&&n.preventDefault();var e="mouse"===t?n.clientX:n.touches[0].clientX,i="mouse"===t?n.clientY:n.touches[0].clientY,o=Date.now();this._addPositionToHistory(e,i),this._updateValueFromPosition(e,i),this._lastX=e,this._lastY=i,this._lastTime=o}}},{key:"_onEnd",value:function(t,n){this._isDragging&&(this._isDragging=!1,this._calculateFinalVelocity(),("vertical"===this._orientation?Math.abs(this._velocityY):Math.abs(this._velocityX))>.5?this._animateInertia():this._emitEvent("change"),this._cleanupEvents())}},{key:"_addPositionToHistory",value:function(t,n){var e=Date.now();this._posHistory.push({x:t,y:n,time:e}),this._posHistory.length>5&&this._posHistory.shift()}},{key:"_calculateFinalVelocity",value:function(){if(this._posHistory.length<2)return this._velocityX=0,void(this._velocityY=0);var t=this._posHistory[this._posHistory.length-1],n=this._posHistory[0],e=t.x-n.x,i=t.y-n.y,o=t.time-n.time;if(o<=0)return this._velocityX=0,void(this._velocityY=0);this._velocityX=e/o*this._velocityFactor,this._velocityY=i/o*this._velocityFactor}},{key:"_animateInertia",value:function(){var t,n,e=this,i="vertical"===this._orientation?this._velocityY:this._velocityX;if(Math.abs(i)<this._minVelocity)return this._velocityX=0,this._velocityY=0,void this._emitEvent("change");this._velocityX*=this._friction,this._velocityY*=this._friction;var o=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".slider-track");if(o){var a=o.getBoundingClientRect(),r=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(".slider-thumb"),s=r&&parseInt(getComputedStyle(r).width)||14;if("vertical"===this._orientation){var c=(a.height-s)/(this._max-this._min),l=-this._velocityY/c,u=this._value+l,d=this._value;this._value=Math.max(this._min,Math.min(this._max,u));var h=this._value===this._min&&d!==this._min&&l<0,v=this._value===this._max&&d!==this._max&&l>0;if(h||v)return this._velocityY=0,this._updateVisuals(),void this._emitEvent("change")}else{var p=(a.width-s)/(this._max-this._min),f=this._velocityX/p,m=this._value+f,_=this._value;this._value=Math.max(this._min,Math.min(this._max,m));var y=this._value===this._min&&_!==this._min&&f<0,b=this._value===this._max&&_!==this._max&&f>0;if(y||b)return this._velocityX=0,this._updateVisuals(),void this._emitEvent("change")}this._updateVisuals(),this._emitEvent("input")}this._animId=requestAnimationFrame(function(){return e._animateInertia()})}},{key:"_updateValueFromPosition",value:function(t,n){var e,i,o=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".slider-track");if(o){var a=o.getBoundingClientRect(),r=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector(".slider-thumb"),s=r&&parseInt(getComputedStyle(r).width)||14;if("vertical"===this._orientation){var c=(n-(a.top+s/2))/(a.height-s),l=Math.max(0,Math.min(1,c));this._value=Math.round(this._min+l*(this._max-this._min))}else{var u=(t-(a.left+s/2))/(a.width-s),d=Math.max(0,Math.min(1,u));this._value=Math.round(this._min+d*(this._max-this._min))}this._updateVisuals(),this._emitEvent("input")}}},{key:"_updateVisuals",value:function(){var t,n,e,i,o=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".slider-thumb"),a=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(".slider-fill"),r=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".slider-track"),s=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector("input");if(r){var c=(this._value-this._min)/(this._max-this._min);if("vertical"===this._orientation){if(a&&(a.style.height="".concat(100*c,"%"),a.style.width="100%",a.style.top="0",a.style.bottom="auto"),o){var l=parseInt(getComputedStyle(o).width)||14,u=l/2+c*(r.offsetHeight-l);o.style.top="".concat(u,"px"),o.style.bottom="auto",o.style.left="50%",o.style.transform="translateY(-50%)"}}else if(a&&(a.style.width="".concat(100*c,"%"),a.style.height="100%",a.style.top="0",a.style.bottom="auto"),o){var d=parseInt(getComputedStyle(o).width)||14,h=d+c*(r.offsetWidth-d);o.style.top="50%",o.style.bottom="auto",o.style.left="".concat(h,"px"),o.style.transform="translateX(-50%)"}s&&(s.value=this._value.toString())}}},{key:"_emitEvent",value:function(t){N(this,"input"===t?"slider-input":"slider-change",{value:this._value}),"change"===t&&N(this,"haptic","light")}},{key:"value",get:function(){return this._value},set:function(t){this._value=Math.max(this._min,Math.min(this._max,t||0)),this._updateVisuals()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this.toggleAttribute("disabled",this._disabled)}},{key:"orientation",get:function(){return this._orientation},set:function(t){this._orientation=t,this.setAttribute("orientation",this._orientation),this.render()}},{key:"attributeChangedCallback",value:function(t,n,e){if(n!==e){switch(t){case"value":this._value=parseFloat(e)||0;break;case"min":this._min=parseFloat(e)||0;break;case"max":this._max=parseFloat(e)||100;break;case"disabled":this._disabled=null!==e;break;case"label":this._label=e||"";break;case"show-fill":this._showFill="false"!==e;break;case"show-thumb":this._showThumb="false"!==e;break;case"orientation":this._orientation=e||"horizontal"}this.render()}}},{key:"render",value:function(){var t=this,n="vertical"===this._orientation?"vertical":"horizontal",e="\n      <style>\n        ".concat(tn,"\n        ").concat(Kt,'\n      </style>\n      \n      <div class="slider-container ').concat(n,'">\n        ').concat(this._label?'<div class="custom-label">'.concat(this._label,"</div>"):"",'\n        <div class="slider-wrapper">\n          <div class="slider-track ').concat(this._disabled?"disabled":""," ").concat(n,'">\n            ').concat(this._showFill?'<div class="slider-fill"></div>':"",'\n            <input type="range" min="').concat(this._min,'" max="').concat(this._max,'" .value="').concat(this._value,'" \n              ?disabled="').concat(this._disabled,'">\n            ').concat(this._showThumb?'<div class="slider-thumb"></div>':"","\n          </div>\n        </div>\n      </div>\n    ");this.shadowRoot&&(this.shadowRoot.innerHTML=e),this._setupEvents(),requestAnimationFrame(function(){return t._updateVisuals()})}}],[{key:"observedAttributes",get:function(){return["value","min","max","disabled","label","show-fill","show-thumb","orientation"]}}])}();customElements.define("custom-slider",nn);var en=G(l||(l=v(["\n  .lights-grid {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 24px;\n    margin-bottom: 24px;\n    justify-content: space-between;\n  }\n\n  .light-item {\n    display: flex;\n    justify-content: center;\n  }\n\n  .light-status {\n    font-size: 0.75rem;\n    color: var(--secondary-text-color);\n  }\n\n  .sliders-container {\n    margin-top: 16px;\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n  }\n"]))),on=function(){function t(){var n;return $(this,t),(n=P(this,t))._selectedEntity=null,n.attachShadow({mode:"open"}),n}return M(t,H),S(t,[{key:"setConfig",value:function(n){if(!n.entities)throw new Error("Please define entities");if(n.entities.some(function(t){return!("string"==typeof t?t:t.entity).startsWith("light.")})&&console.warn("Some entities are not lights, they may not work correctly"),p(t,"setConfig",this,3)([n]),n.entities.length>0){var e="string"==typeof n.entities[0]?n.entities[0]:n.entities[0].entity;this._selectedEntity=e}}},{key:"getLayoutOptions",value:function(){var t,n,e,i,o=(null===(n=null===(t=this._config)||void 0===t?void 0:t.entities)||void 0===n?void 0:n.length)||0,a=((null===(e=this._config)||void 0===e?void 0:e.title)?1:0)+((null===(i=this._config)||void 0===i?void 0:i.subtitle)?1:0)+Math.ceil(o/3)+2;return{grid_columns:4,grid_min_columns:3,grid_max_columns:4,grid_rows:a,grid_min_rows:3,grid_max_rows:Math.max(a,5)}}},{key:"_selectEntity",value:function(t,n){n.stopPropagation(),this._selectedEntity=t,this.render()}},{key:"_getCurrentBrightness",value:function(){if(!this._selectedEntity||!this._hass)return 100;var t=this._hass.states[this._selectedEntity];if(!t||"off"===t.state)return 0;var n=t.attributes.brightness||0;return Math.round(n/2.55)}},{key:"_getCurrentColorTemp",value:function(){if(!this._selectedEntity||!this._hass)return 50;var t=this._hass.states[this._selectedEntity];if(!t||"off"===t.state)return 50;if(t.attributes.kelvin){var n=t.attributes.kelvin||3500;return 100-Math.round((n-2e3)/4500*100)}if(t.attributes.color_temp){var e=t.attributes.min_mireds||153,i=(t.attributes.max_mireds||500)-e,o=t.attributes.color_temp;return Math.round((o-e)/i*100)}return 50}},{key:"_supportsColorTemp",value:function(t){if(!t||!this._hass)return!1;var n=this._hass.states[t];return!!n&&(n.attributes.supported_color_modes&&(n.attributes.supported_color_modes.includes("color_temp")||n.attributes.supported_color_modes.includes("kelvin")))}},{key:"_setBrightness",value:function(t){this._selectedEntity&&this._hass&&U(this._hass,this._selectedEntity,t.detail.value)}},{key:"_setColorTemp",value:function(t){this._selectedEntity&&this._hass&&D(this._hass,this._selectedEntity,t.detail.value)}},{key:"render",value:function(){var t=this;if(this._hass&&this._config){var n=this._config.entities.map(function(n){var e="string"==typeof n?n:n.entity,i=t._hass.states[e],o=!!i,a=n.name||(o?i.attributes.friendly_name:e)||e,r=n.icon||(o?i.attributes.icon:"mdi:lightbulb")||"mdi:lightbulb",s=o&&"on"===i.state,c=e===t._selectedEntity;return'\n        <div class="light-item">\n          <base-button\n            .icon='.concat(r,"\n            .active=").concat(s,"\n            .selected=").concat(c,"\n            .disabled=").concat(!o,"\n            .name=").concat(a,"\n            .entity=").concat(e,"\n            @button-click=").concat(function(n){return t._selectEntity(e,n.detail.originalEvent)},"\n            @button-double-click=").concat(function(n){n.stopPropagation(),F(t,e)},"\n            @button-long-press=").concat(function(n){n.stopPropagation(),B(t,e)},"\n            @button-right-click=").concat(function(n){n.stopPropagation(),B(t,e)},'\n          >\n            <span slot="status" class="light-status">').concat(s?"on":"off","</span>\n          </base-button>\n        </div>\n      ")}).join(""),e=this._getCurrentBrightness(),i=this._getCurrentColorTemp(),o=!!this._selectedEntity&&this._supportsColorTemp(this._selectedEntity),a=this._config.title?"<h1>".concat(this._config.title,"</h1>"):"",r=this._config.subtitle?"<p>".concat(this._config.subtitle,"</p>"):"";this.shadowRoot.innerHTML="\n      <style>\n        ".concat(Kt,"\n        ").concat(en,'\n      </style>\n      \n      <div class="card-container">\n        <div class="card-header">\n          ').concat(a,"\n          ").concat(r,'\n        </div>\n        <div class="lights-grid">\n          ').concat(n,'\n        </div>\n        \n        <div class="sliders-container">\n          <custom-slider\n            show-fill="true"\n            show-thumb="true"\n            show-border="true"\n            label="Brightness"\n            min="0"\n            max="100"\n            .value=').concat(e,"\n            ?disabled=").concat(!this._selectedEntity,"\n            @slider-change=").concat(this._setBrightness,'\n          ></custom-slider>\n          \n          <custom-slider\n            show-fill="false"\n            show-thumb="true"\n            show-border="true"\n            label="Temperature"\n            min="0"\n            max="100"\n            .value=').concat(i,"\n            ?disabled=").concat(!this._selectedEntity||!o,"\n            @slider-change=").concat(this._setColorTemp,"\n          ></custom-slider>\n        </div>\n      </div>\n    ")}}}],[{key:"getStubConfig",value:function(){return{entities:["light.demo_light"],title:"Light Control Card"}}}])}();customElements.define("light-control-card",on);var an=G(u||(u=v(["\n  .container {\n    display: flex;\n    flex-direction: row;\n    height: 100%;\n  }\n\n  .sliders-container {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n    width: 64px;\n    margin-right: 16px;\n  }\n\n  .vertical-slider {\n    height: 100px;\n    transform: rotate(-90deg);\n    transform-origin: center left;\n    position: relative;\n    left: 32px;\n  }\n\n  .controls-grid {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n    justify-content: space-between;\n  }\n\n  .control-item {\n    display: flex;\n    justify-content: center;\n  }\n\n  .control-status {\n    font-size: 0.75rem;\n    color: var(--secondary-text-color);\n  }\n\n  .slider-label {\n    writing-mode: vertical-lr;\n    text-orientation: mixed;\n    transform: rotate(180deg);\n    white-space: nowrap;\n    margin-bottom: 8px;\n    font-size: 0.75rem;\n    color: var(--secondary-text-color);\n  }\n\n  .slider-group {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 4px;\n  }\n"]))),rn=function(){function t(){var n;return $(this,t),(n=P(this,t))._selectedPair=null,n.attachShadow({mode:"open"}),n}return M(t,H),S(t,[{key:"setConfig",value:function(n){if(!n.entity_pairs)throw new Error("Please define entity_pairs");n.entity_pairs.forEach(function(t){if(!t.name)throw new Error("Each entity pair must have a name");if(!t.blind&&!t.curtain)throw new Error("Each entity pair must have at least one of blind or curtain");t.blind&&!t.blind.startsWith("cover.")&&console.warn("Entity ".concat(t.blind," might not be a cover entity")),t.curtain&&!t.curtain.startsWith("cover.")&&console.warn("Entity ".concat(t.curtain," might not be a cover entity"))}),p(t,"setConfig",this,3)([n]),n.entity_pairs.length>0&&(this._selectedPair=n.entity_pairs[0])}},{key:"getLayoutOptions",value:function(){var t,n,e,i,o=(null===(n=null===(t=this._config)||void 0===t?void 0:t.entity_pairs)||void 0===n?void 0:n.length)||0,a=((null===(e=this._config)||void 0===e?void 0:e.title)?1:0)+((null===(i=this._config)||void 0===i?void 0:i.subtitle)?1:0)+Math.ceil(o/3)+1;return{grid_columns:4,grid_min_columns:3,grid_max_columns:4,grid_rows:a,grid_min_rows:3,grid_max_rows:Math.max(a,5)}}},{key:"_selectPair",value:function(t,n){n.stopPropagation(),this._selectedPair=t,this.render()}},{key:"_getCurrentBlindPosition",value:function(){if(!this._selectedPair||!this._selectedPair.blind||!this._hass)return 0;var t=this._hass.states[this._selectedPair.blind];return t?void 0!==t.attributes.current_position?t.attributes.current_position:"open"===t.state?100:0:0}},{key:"_getCurrentCurtainPosition",value:function(){if(!this._selectedPair||!this._selectedPair.curtain||!this._hass)return 0;var t=this._hass.states[this._selectedPair.curtain];return t?void 0!==t.attributes.current_position?t.attributes.current_position:"open"===t.state?100:0:0}},{key:"_setBlindPosition",value:function(t){if(this._selectedPair&&this._selectedPair.blind&&this._hass){var n=100-t.detail.value;this._hass.callService("cover","set_cover_position",{entity_id:this._selectedPair.blind,position:n})}}},{key:"_setCurtainPosition",value:function(t){if(this._selectedPair&&this._selectedPair.curtain&&this._hass){var n=100-t.detail.value;this._hass.callService("cover","set_cover_position",{entity_id:this._selectedPair.curtain,position:n})}}},{key:"render",value:function(){var t,n,e=this;if(this._hass&&this._config){var i=this._config.entity_pairs.map(function(t){var n=t.name,i=t.description||"",o=t.icon||"mdi:window-shutter",a=t.blind?e._hass.states[t.blind]:null,r=t.curtain?e._hass.states[t.curtain]:null,s=!!a,c=!!r,l=s&&("open"===a.state||(a.attributes.current_position||0)>0),u=c&&("open"===r.state||(r.attributes.current_position||0)>0),d=e._selectedPair===t,h=l||u,v="";s&&c?v="Blind: ".concat(l?"open":"closed"," | Curtain: ").concat(u?"open":"closed"):s?v="Blind: ".concat(l?"open":"closed"):c&&(v="Curtain: ".concat(u?"open":"closed"));var p=t.blind||t.curtain;return'\n        <div class="entity-row">\n          <div class="button-description-container">\n            <base-button\n              small\n              .icon='.concat(o,"\n              .active=").concat(h,"\n              .selected=").concat(d,"\n              .disabled=").concat(!s&&!c,"\n              .entity=").concat(p||"","\n              @button-click=").concat(function(n){return e._selectPair(t,n.detail.originalEvent)},"\n              @button-double-click=").concat(function(n){t.blind&&F(e,t.blind),t.curtain&&F(e,t.curtain)},"\n              @button-long-press=").concat(function(n){var i=t.blind||t.curtain;i&&B(e,i)},"\n              @button-right-click=").concat(function(n){var i=t.curtain||t.blind;i&&B(e,i)},'\n            ></base-button>\n            <div class="entity-info">\n              <div class="entity-name">').concat(n,'</div>\n              <div class="entity-description">').concat(i||v,"</div>\n            </div>\n          </div>\n        </div>\n      ")}).join(""),o=this._getCurrentBlindPosition(),a=this._getCurrentCurtainPosition(),r=this._selectedPair&&this._selectedPair.blind&&void 0!==this._hass.states[this._selectedPair.blind],s=this._selectedPair&&this._selectedPair.curtain&&void 0!==this._hass.states[this._selectedPair.curtain],c=62*((null===(n=null===(t=this._config)||void 0===t?void 0:t.entity_pairs)||void 0===n?void 0:n.length)||1),l=this._config.title?"<h1>".concat(this._config.title,"</h1>"):"",u=this._config.subtitle?"<p>".concat(this._config.subtitle,"</p>"):"";this.shadowRoot.innerHTML="\n      <style>\n        ".concat(Kt,"\n        ").concat(tn,"\n        ").concat(an,'\n      </style>\n      \n      <div class="card-container">\n        <div class="card-header">\n          ').concat(l,"\n          ").concat(u,'\n        </div>\n        \n        <div class="card-content">\n          <div class="container">\n            <div class="sliders-container">\n              <div class="slider-column">\n                <div class="slider-label">B</div>\n                <custom-slider\n                  style="height: ').concat(c,'px"\n                  orientation="vertical"\n                  show-fill="true"\n                  show-thumb="false"\n                  min="0"\n                  max="100"\n                  .value=').concat(100-o,"\n                  ?disabled=").concat(!r,"\n                  @slider-change=").concat(this._setBlindPosition,'\n                ></custom-slider>\n              </div>\n              \n              <div class="slider-column">\n                <div class="slider-label">C</div>\n                <custom-slider\n                  style="height: ').concat(c,'px"\n                  orientation="vertical"\n                  show-fill="true"\n                  show-thumb="false"\n                  min="0"\n                  max="100"\n                  .value=').concat(100-a,"\n                  ?disabled=").concat(!s,"\n                  @slider-change=").concat(this._setCurtainPosition,'\n                ></custom-slider>\n              </div>\n            </div>\n            \n            <div class="controls-grid">\n              ').concat(i,"\n            </div>\n          </div>\n        </div>\n      </div>\n    ")}}}],[{key:"getStubConfig",value:function(){return{entity_pairs:[{name:"Demo",blind:"cover.demo_blind"}],title:"Blind Curtain Control Card"}}}])}();customElements.define("blind-curtain-control-card",rn);var sn=G(d||(d=v(["\n  .alarm-card-container {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 8px;\n    margin-bottom: 12px;\n  }\n\n  .time-display {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1;\n    margin: 0 16px;\n  }\n\n  .time-input-container {\n    position: relative;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: transform 0.2s ease;\n  }\n\n  .time-input-container.focused {\n    transform: scale(1.02);\n  }\n\n  .time-input {\n    background-color: var(--card-background-color);\n    border: 1px solid var(--divider-color, rgba(0, 0, 0, 0.1));\n    border-radius: var(--ha-card-border-radius, 12px);\n    box-shadow: none;\n    color: var(--primary-text-color);\n    font-size: 1.8rem;\n    font-weight: bold;\n    font-family: inherit;\n    text-align: center;\n    width: 100%;\n    cursor: text;\n    transition: transform 0.3s ease;\n    -webkit-appearance: none;\n    -moz-appearance: textfield;\n    appearance: none;\n    touch-action: manipulation;\n    box-sizing: border-box;\n    position: relative;\n  }\n\n  .oculto {\n    position: absolute;\n    top: 0;\n    left: 0;\n    opacity: 0;\n    height: 100%;\n    cursor: pointer;\n  }\n\n  .time-label {\n    font-size: 0.9rem;\n    color: var(--secondary-text-color);\n    justify-content: center;\n    text-align: center;\n  }\n\n  .alarm-status {\n    font-size: 0.75rem;\n    color: var(--secondary-text-color);\n  }\n\n  .options-container {\n    margin-top: 16px;\n    padding: 16px;\n    border-top: 1px solid var(--divider-color, rgba(0, 0, 0, 0.1));\n  }\n\n  .options-message {\n    text-align: center;\n    color: var(--secondary-text-color);\n    padding: 16px;\n    font-style: italic;\n  }\n\n  .options-error {\n    text-align: center;\n    color: var(--error-color, #db4437);\n    padding: 16px;\n  }\n\n  .error {\n    color: var(--error-color, #db4437);\n    text-align: center;\n    padding: 16px;\n  }\n"]))),cn=function(){function t(){var n;return $(this,t),(n=P(this,t)).attachShadow({mode:"open"}),n}return M(t,H),S(t,[{key:"setConfig",value:function(n){if(!n.left_entity)throw new Error("Please define left_entity");if(!n.input_datetime)throw new Error("Please define input_datetime entity");p(t,"setConfig",this,3)([n])}},{key:"_formatTime",value:function(t){if(!t||!t.attributes)return"";if(t.attributes.has_time){var n=t.attributes.hour.toString().padStart(2,"0"),e=t.attributes.minute.toString().padStart(2,"0");return"".concat(n,":").concat(e)}return""}},{key:"_handleTimeChange",value:function(t){if(this._config.input_datetime&&this._hass){var n=t.target.value;n&&(this._hass.callService("input_datetime","set_datetime",{entity_id:this._config.input_datetime,time:n}),N(this,"haptic","light"))}}},{key:"render",value:function(){var t=this;if(this._hass&&this._config){var n=this._hass.states[this._config.left_entity],e=this._hass.states[this._config.input_datetime];if(n&&e){var i=z.isEntityActive(n),o=this._config.right_entity?this._hass.states[this._config.right_entity]:null,a=!!o&&z.isEntityActive(o),r=this._formatTime(e),s=this._config.title?"<h1>".concat(this._config.title,"</h1>"):"",c=this._config.subtitle?"<p>".concat(this._config.subtitle,"</p>"):"";this.shadowRoot.innerHTML="\n      <style>\n        ".concat(Kt,"\n        ").concat(sn,'\n      </style>\n      \n      <div class="card-container">\n        <div class="card-header">\n          ').concat(s,"\n          ").concat(c,'\n        </div>\n        \n        <div class="alarm-card-container">\n          <base-button\n            .icon=').concat(this._config.icon_left||"mdi:alarm","\n            .active=").concat(i,"\n            .name=").concat(this._config.left_name||"","\n            .entity=").concat(this._config.left_entity,"\n            @button-click=").concat(function(){return I(t._hass,t._config.left_entity)},"\n            @button-right-click=").concat(function(n){n.stopPropagation(),B(t,t._config.left_entity)},"\n            @button-long-press=").concat(function(n){n.stopPropagation(),B(t,t._config.left_entity)},'\n          >\n            <span slot="status" class="alarm-status">').concat(i?"on":"off",'</span>\n          </base-button>\n          \n          <div class="time-display">\n            <div class="time-input-container">\n              <input\n                type="time"\n                class="time-input"\n                .value=').concat(r,"\n                @change=").concat(this._handleTimeChange,"\n                @blur=").concat(this._handleTimeChange,'\n              >\n            </div>\n            <div class="time-label">').concat(this._config.time_label||"Alarm Time","</div>\n          </div>\n          \n          <base-button\n            .icon=").concat(this._config.icon_right||"mdi:cog","\n            .name=").concat(this._config.right_name||"","\n            .active=").concat(a,"\n            ?disabled=").concat(!this._config.right_entity,"\n            .entity=").concat(this._config.right_entity||"","\n            @button-click=").concat(function(){t._config.right_entity&&I(t._hass,t._config.right_entity)},"\n            @button-right-click=").concat(function(n){t._config.right_entity&&(n.stopPropagation(),B(t,t._config.right_entity))},"\n            @button-long-press=").concat(function(n){t._config.right_entity&&(n.stopPropagation(),B(t,t._config.right_entity))},"\n          >\n            ").concat(this._config.right_entity?'<span slot="status" class="alarm-status">'.concat(a?"on":"off","</span>"):'<span slot="status" class="alarm-status">No entity</span>',"\n          </base-button>\n        </div>\n      </div>\n    ")}else this.shadowRoot.innerHTML='<div class="error">One or more entities not found. Please check your configuration.</div>'}}}],[{key:"getStubConfig",value:function(){return{left_entity:"input_boolean.demo_alarm",input_datetime:"input_datetime.demo_alarm_time",title:"Alarm Card"}}}])}();customElements.define("alarm-card",cn);var ln=G(h||(h=v(["\n  .entity-info {\n    flex: 1;\n    transition: opacity 0.3s ease, transform 0.3s ease;\n    opacity: 1;\n    transform: translateX(0);\n  }\n\n  .entity-info.hidden {\n    opacity: 0;\n    position: absolute;\n    transform: translateX(-20px);\n    pointer-events: none;\n  }\n\n  .media-card-container {\n    transition: all 0.3s ease-in-out;\n    overflow: visible;\n  }\n\n  .media-card-container.collapsed {\n    max-height: 80px;\n  }\n\n  .media-card-container.expanded {\n    max-height: 400px;\n  }\n\n  .media-layout {\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    gap: 16px;\n  }\n\n  .entity-main {\n    display: flex;\n    flex-direction: row-reverse;\n    align-items: center;\n    gap: 16px;\n    min-width: 180px;\n  }\n\n  .controls-container {\n    display: flex;\n    flex-direction: column;\n    overflow: visible;\n    opacity: 0;\n    transition: all 0.3s ease-in-out;\n    margin-left: -16px;\n  }\n\n  .expanded .controls-container {\n    width: auto;\n    opacity: 1;\n    margin-left: 0;\n  }\n\n  .control-button {\n    background-color: var(--card-background-color);\n    border: none;\n    border-radius: 12px;\n    width: 48px;\n    height: 48px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    box-shadow: var(--ha-card-box-shadow, 0px 2px 2px -1px rgba(0, 0, 0, 0.2), 0px 2px 3px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));\n  }\n\n  .control-button:hover {\n    background-color: rgba(var(--rgb-primary-text-color, 255, 255, 255), 0.1);\n  }\n\n  .control-button:active {\n    transform: scale(0.95);\n    box-shadow: inset 0px 2px 4px -1px rgba(0, 0, 0, 0.2), inset 0px 4px 5px 0px rgba(0, 0, 0, 0.14), inset 0px 1px 10px 0px rgba(0, 0, 0, 0.12));\n  }\n\n  .control-button ha-icon {\n    color: var(--primary-text-color);\n    --mdc-icon-size: 24px;\n  }\n\n  .section-title {\n    font-size: 0.75rem;\n    color: var(--secondary-text-color);\n    text-align: center;\n    margin-bottom: 4px;\n  }\n\n  .grid-buttons {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 12px;\n    width: 100%;\n    justify-items: center;\n  }\n\n  .media-info {\n    white-space: nowrap;\n    overflow: visible;\n    text-overflow: ellipsis;\n    transition: opacity 0.3s ease, height 0.3s ease, margin 0.3s ease, padding 0.3s ease;\n    opacity: 1;\n    height: auto;\n    margin-bottom: 4px;\n  }\n\n  .expanded .media-info {\n    opacity: 0;\n    height: 0;\n    margin: 0;\n    padding: 0;\n  }\n\n  .nav-grid {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: repeat(3, 1fr);\n    gap: 8px;\n    width: 100%;\n    justify-items: center;\n  }\n\n  .dpad-center {\n    background-color: var(--primary-color, #03a9f4);\n  }\n\n  .dpad-center ha-icon {\n    color: var(--text-primary-color, white);\n  }\n\n  @media (max-width: 380px) {\n    .control-button {\n      width: 40px;\n      height: 40px;\n    }\n\n    .control-button ha-icon {\n      --mdc-icon-size: 20px;\n    }\n\n    .controls-grid {\n      gap: 8px;\n    }\n  }\n\n  .error {\n    color: var(--error-color, #db4437);\n    text-align: center;\n    padding: 16px;\n  }\n\n  .right-side-content {\n    width: 100%;\n    overflow: visible;\n  }\n\n  .left-side-content {\n    display: flex;\n    flex-direction: column;\n    gap: 26px;\n    overflow: visible;\n    padding-right: 26px;\n  }\n\n  .media-control-buttons {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    justify-items: center;\n    gap: 8px;\n    padding-bottom: 16px;\n    margin-bottom: 16px;\n    border-bottom: 1.5px solid var(--primary-text-color);\n  }\n\n  .tv-on-container.hidden {\n    opacity: 0;\n    position: absolute;\n    pointer-events: none;\n  }\n\n  .tv-on-container {\n    display: flex;\n    flex-direction: column;\n    align-items: start;\n    gap: 16px;\n  }\n"]))),un=function(){function t(){var n;return $(this,t),(n=P(this,t)).attachShadow({mode:"open"}),n}return M(t,H),S(t,[{key:"setConfig",value:function(n){if(!n.entity)throw new Error("Please define a media_player entity");n.entity.startsWith("media_player.")||console.warn("Entity ".concat(n.entity," might not be a media player entity")),p(t,"setConfig",this,3)([n])}},{key:"_handleMediaCommand",value:function(t,n){n.stopPropagation();var e=this._config.entity;if(e&&this._hass){var i=y({play:["media_player","media_play"],pause:["media_player","media_pause"],play_pause:["media_player","media_play_pause"],next:["media_player","media_next_track"],previous:["media_player","media_previous_track"],volume_up:["media_player","volume_up"],volume_down:["media_player","volume_down"],volume_mute:["media_player","volume_mute",{is_volume_muted:!0}],volume_unmute:["media_player","volume_mute",{is_volume_muted:!1}],up:["remote","send_command",{command:"UP"}],down:["remote","send_command",{command:"DOWN"}],left:["remote","send_command",{command:"LEFT"}],right:["remote","send_command",{command:"RIGHT"}],enter:["remote","send_command",{command:"SELECT"}],back:["remote","send_command",{command:"BACK"}],home:["remote","send_command",{command:"HOME"}]}[t]||[],3),o=i[0],a=i[1],r=i[2];if(o&&a){var s=Object.assign({entity_id:e},r);this._hass.callService(o,a,s),N(this,"haptic","light")}else console.error("Unknown command: ".concat(t))}}},{key:"_handleSourceChange",value:function(t,n){n.stopPropagation();var e=n.target.value;e&&this._hass&&this._hass.callService("media_player","select_source",{entity_id:t,source:e})}},{key:"_handleToggle",value:function(t){t.stopPropagation(),I(this._hass,this._config.entity)}},{key:"_handleMoreInfo",value:function(t){t.stopPropagation(),B(this,this._config.entity)}},{key:"render",value:function(){var t=this;if(this._hass&&this._config){var n=this._config.entity,e=this._hass.states[n];if(e){var i=this._config.name||e.attributes.friendly_name||n.split(".")[1],o=this._config.icon||e.attributes.icon||"mdi:cast",a=["playing","paused","on","idle"].includes(e.state),r=e.attributes.media_title||"",s=e.attributes.media_artist||"",c=e.attributes.media_series_title||"",l="";r?(l+=r,s&&(l+=" - ".concat(s)),c&&c!==r&&(l+=" (".concat(c,")"))):l=e.state;var u="tv"===this._config.remote_type||n.includes("tv")||"tv"===e.attributes.device_class,d=a?"expanded":"collapsed",h=a&&e.attributes.source||"",v=a&&e.attributes.source_list?e.attributes.source_list:[],p=this._config.title?"<h1>".concat(this._config.title,"</h1>"):"",f=this._config.subtitle?"<p>".concat(this._config.subtitle,"</p>"):"";this.shadowRoot.innerHTML="\n      <style>\n        ".concat(Kt,"\n        ").concat(ln,'\n      </style>\n      \n      <div class="card-container">\n        <div class="card-header">\n          ').concat(p,"\n          ").concat(f,'\n        </div>\n        \n        <div class="media-card-container ').concat(d,'">\n          <div class="media-layout">\n            <div class="left-side-content">\n              <base-button\n                .icon=').concat(o,"\n                .active=").concat(a,"\n                .entity=").concat(n,"\n                @button-click=").concat(this._handleToggle,"\n                @button-long-press=").concat(this._handleMoreInfo,"\n                @button-right-click=").concat(this._handleMoreInfo,'\n              >\n                <span slot="status" class="media-status">').concat(a?"":e.state,'</span>\n              </base-button>\n              \n              <div class="tv-on-container ').concat(a?"":"hidden",'">\n                <div class="entity-info">\n                  <div class="entity-name">').concat(i,'</div>\n                  <div class="entity-description">').concat(l,'</div>\n                </div>\n                \n                <div class="custom-selector-container">\n                  <div class="custom-label">Source</div>\n                  <select class="custom-selector" .entity=').concat(n," @change=").concat(function(e){return t._handleSourceChange(n,e)},">\n                    ").concat(v.map(function(t){return'<option value="'.concat(t,'" ').concat(t===h?"selected":"",">").concat(t,"</option>")}).join(""),'\n                  </select>\n                </div>\n              </div>\n            </div>\n            \n            <div class="right-side-content">\n              <div class="entity-info ').concat(a?"hidden":"",'">\n                <div class="entity-name">').concat(i,'</div>\n                <div class="entity-description">').concat(l,'</div>\n              </div>\n              \n              <div class="controls-container ').concat(a?"visible":"",'">\n                <div class="media-control-buttons">\n                  <button class="control-button" @click=').concat(function(n){return t._handleMediaCommand("previous",n)},'><ha-icon icon="mdi:skip-previous"></ha-icon></button>\n                  <button class="control-button" @click=').concat(function(n){return t._handleMediaCommand("play_pause",n)},'><ha-icon icon="').concat("playing"===e.state?"mdi:pause":"mdi:play",'"></ha-icon></button>\n                  <button class="control-button" @click=').concat(function(n){return t._handleMediaCommand("next",n)},'><ha-icon icon="mdi:skip-next"></ha-icon></button>\n                </div>\n                \n                <div class="media-control-buttons">\n                  <button class="control-button" @click=').concat(function(n){return t._handleMediaCommand("volume_down",n)},'><ha-icon icon="mdi:volume-minus"></ha-icon></button>\n                  <button class="control-button" @click=').concat(function(n){return t._handleMediaCommand(e.attributes.is_volume_muted?"volume_unmute":"volume_mute",n)},'><ha-icon icon="').concat(e.attributes.is_volume_muted?"mdi:volume-off":"mdi:volume-high",'"></ha-icon></button>\n                  <button class="control-button" @click=').concat(function(n){return t._handleMediaCommand("volume_up",n)},'><ha-icon icon="mdi:volume-plus"></ha-icon></button>\n                </div>\n                \n                ').concat(u?'\n                <div class="grid-buttons">\n                  <button class="control-button" @click='.concat(function(n){return t._handleMediaCommand("back",n)},'><ha-icon icon="mdi:keyboard-return"></ha-icon></button>\n                  <button class="control-button" @click=').concat(function(n){return t._handleMediaCommand("up",n)},'><ha-icon icon="mdi:chevron-up"></ha-icon></button>\n                  <button class="control-button" @click=').concat(function(n){return t._handleMediaCommand("home",n)},'><ha-icon icon="mdi:home"></ha-icon></button>\n                  <button class="control-button" @click=').concat(function(n){return t._handleMediaCommand("left",n)},'><ha-icon icon="mdi:chevron-left"></ha-icon></button>\n                  <button class="control-button" @click=').concat(function(n){return t._handleMediaCommand("enter",n)},'><ha-icon icon="mdi:checkbox-blank-circle"></ha-icon></button>\n                  <button class="control-button" @click=').concat(function(n){return t._handleMediaCommand("right",n)},'><ha-icon icon="mdi:chevron-right"></ha-icon></button>\n                  <div></div>\n                  <button class="control-button" @click=').concat(function(n){return t._handleMediaCommand("down",n)},'><ha-icon icon="mdi:chevron-down"></ha-icon></button>\n                  <div></div>\n                </div>\n                '):"","\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ")}else this.shadowRoot.innerHTML="\n        <style>\n          ".concat(Kt,"\n          ").concat(ln,'\n        </style>\n        <div class="card-container">\n          <div class="error">Media player entity not found: ').concat(n,"</div>\n        </div>\n      ")}}}],[{key:"getStubConfig",value:function(){return{entity:"media_player.demo_media_player",title:"Media Player Card"}}}])}();customElements.define("media-player-card",un),console.info("%c NEUMORPHISM-CARDS LOADED ","color: white; background: #03a9f4; font-weight: 700;");
//# sourceMappingURL=neumorphism-cards.js.map
